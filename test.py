import requests

object_name = './rick_roll.mp4'


presigned_url = {
        "url": "https://user-videos-bucket.s3.amazonaws.com/",
        "fields": {
            "key": "ginorey/246d17b9-4875-4d98-8ad8-e4f7db501099.mp4",
            "x-amz-algorithm": "AWS4-HMAC-SHA256",
            "x-amz-credential": "ASIAQMZWSSNHYYO7SOFQ/20231223/us-east-2/s3/aws4_request",
            "x-amz-date": "20231223T031732Z",
            "x-amz-security-token": "IQoJb3JpZ2luX2VjELP//////////wEaCXVzLWVhc3QtMiJIMEYCIQC4Y5IdTDetZRVE/H7/8kPyOcfYJofjYC1iA2J/Y1+lNwIhALr+AbK2fNJbwkdULWOgfOh8qFB5ICrWVnnRuiS3J8zSKqUDCDwQABoMMDI3NDk0ODgwMDc5IgxcGAsECq36ohjj4EYqggPxNTSYZ7ha2hbCWz2vj8J28j0fO/T4IN/6GI//7Ni1pLCdKdhEmwJSiIySNdjdSV7b+0Bl8OA2jZOXj/RxfEn5vTMLi5Sn6W71EwtJU6lD0jnBsyy6fda2ECGGz1hEPNhJxj7thNZPq8Y3+dUfWxfaHU0z7GLjIUL8n7Mb5HK1XyvrVJLFo04CcAvBqCF+9EqZe2fBrB1ZPT5CHy5oK7EwLqZD7rbdIy5xBNNaOrDHI+Ow5Qgco8dGS9dQJX9dqADFB9vDzuhH/tD0vW/y43mEMJA9/N0bh74KSmITT8kTwu/Oai0bdBza4PcnUqoAjRgGzr+AFBJiFEFe5ePPW20xg/NwUwVZ1XJILyeW2CDO6Y0yZcmcSOHfrJ+4iIdbVubHnS7Ip3FHGY9HIJp/ETnTtOgO+6kbmJjsNPyGTVDPYh0DXlHPXWE4Ei4ZU+O5ZRK3ru16UWCzQkvsRZdZysdSN0+CxKtPo9nWpb+xrwjXUqSa9VL9m0sEv6vRuM13A0lP8jDJopmsBjqcAbBmrQdFpXatjM+spnqmZPc89H4FNMaUmQO67wUm5YJv3UG8ouS1VYstHh2Ab+BixxPl0yf/2R4EKNx6g33cGuQpc/Xcufs67Eqc9+GxbXIw107WUmfxFJ8QIPbr2PrQ0ynMkK8hy4C4WI3hz+sAyi/LRS3Kg5EWWb1I5ReCEhz3vAPgG3El+jqrWwmca1efhg1c1d8hmRTkNOAmsA==",
            "policy": "eyJleHBpcmF0aW9uIjogIjIwMjMtMTItMjNUMDQ6MTc6MzJaIiwgImNvbmRpdGlvbnMiOiBbeyJidWNrZXQiOiAidXNlci12aWRlb3MtYnVja2V0In0sIHsia2V5IjogImdpbm9yZXkvMjQ2ZDE3YjktNDg3NS00ZDk4LThhZDgtZTRmN2RiNTAxMDk5Lm1wNCJ9LCB7IngtYW16LWFsZ29yaXRobSI6ICJBV1M0LUhNQUMtU0hBMjU2In0sIHsieC1hbXotY3JlZGVudGlhbCI6ICJBU0lBUU1aV1NTTkhZWU83U09GUS8yMDIzMTIyMy91cy1lYXN0LTIvczMvYXdzNF9yZXF1ZXN0In0sIHsieC1hbXotZGF0ZSI6ICIyMDIzMTIyM1QwMzE3MzJaIn0sIHsieC1hbXotc2VjdXJpdHktdG9rZW4iOiAiSVFvSmIzSnBaMmx1WDJWakVMUC8vLy8vLy8vLy93RWFDWFZ6TFdWaGMzUXRNaUpJTUVZQ0lRQzRZNUlkVERldFpSVkUvSDcvOGtQeU9jZllKb2ZqWUMxaUEySi9ZMStsTndJaEFMcitBYksyZk5KYndrZFVMV09nZk9oOHFGQjVJQ3JXVm5uUnVpUzNKOHpTS3FVRENEd1FBQm9NTURJM05EazBPRGd3TURjNUlneGNHQXNFQ3EzNm9oamo0RVlxZ2dQeE5UU1laN2hhMmhiQ1d6MnZqOEoyOGowZk8vVDRJTi82R0kvLzdOaTFwTENkS2RoRW13SlNpSXlTTmRqZFNWN2IrMEJsOE9BMmpaT1hqL1J4ZkVuNXZUTUxpNVNuNlc3MUV3dEpVNmxEMGpuQnN5eTZmZGEyRUNHR3oxaEVQTmhKeGo3dGhOWlBxOFkzK2RVZld4ZmFIVTB6N0dMaklVTDhuN01iNUhLMVh5dnJWSkxGbzA0Q2NBdkJxQ0YrOUVxWmUyZkJyQjFaUFQ1Q0h5NW9LN0V3THFaRDdyYmRJeTV4Qk5OYU9yREhJK093NVFnY284ZEdTOWRRSlg5ZHFBREZCOXZEenVoSC90RDB2Vy95NDNtRU1KQTkvTjBiaDc0S1NtSVRUOGtUd3UvT2FpMGJkQnphNFBjblVxb0FqUmdHenIrQUZCSmlGRUZlNWVQUFcyMHhnL053VXdWWjFYSklMeWVXMkNETzZZMHlaY21jU09IZnJKKzRpSWRiVnViSG5TN0lwM0ZIR1k5SElKcC9FVG5UdE9nTys2a2JtSmpzTlB5R1RWRFBZaDBEWGxIUFhXRTRFaTRaVStPNVpSSzNydTE2VVdDelFrdnNSWmRaeXNkU04wK0N4S3RQbzluV3BiK3hyd2pYVXFTYTlWTDltMHNFdjZ2UnVNMTNBMGxQOGpESm9wbXNCanFjQWJCbXJRZEZwWGF0ak0rc3BucW1aUGM4OUg0Rk5NYVVtUU82N3dVbTVZSnYzVUc4b3VTMVZZc3RIaDJBYitCaXh4UGwweWYvMlI0RUtOeDZnMzNjR3VRcGMvWGN1ZnM2N0VxYzkrR3hiWEl3MTA3V1VtZnhGSjhRSVBicjJQclEweW5Na0s4aHk0QzRXSTNoeitzQXlpL0xSUzNLZzVFV1diMUk1UmVDRWh6M3ZBUGdHM0VsK2pxcld3bWNhMWVmaGcxYzFkOGhtUlRrTk9BbXNBPT0ifV19",
            "x-amz-signature": "d2684b3f4f74ea801884c3caabded7efe7b3fe643bf58de9c5a4b1b96df1978a"
        }
    }

with open(object_name, 'rb') as f:
    files = {'file': (object_name, f)}
    http_response = requests.post(
        presigned_url['url'], data=presigned_url['fields'], files=files)
    
print(f'File upload HTTP status response: {http_response}')
print(f'File upload HTTP status code: {http_response.status_code}')
